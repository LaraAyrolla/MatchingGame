<!-- HTML -->
<!DOCTYPE html>
<html>
	<head>
		<title>JOGO DA MEMÓRIA</title>
		<meta charset="UTF-8">
	</head>
	<body>
		<!-- div com os corações de vida -->
		<div class="corazon">
			<img src="assets/corazon.png" class="co2" id="9">
			<img src="assets/corazon.png" class="co2" id="8">
			<img src="assets/corazon.png" class="co2" id="7">
			<img src="assets/corazon.png" class="co2" id="6">
			<img src="assets/corazon.png" class="co2" id="5">
			<img src="assets/corazon.png" class="co2" id="4">
			<img src="assets/corazon.png" class="co2" id="3">
			<img src="assets/corazon.png" class="co2" id="2">
			<img src="assets/corazon.png" class="co2" id="1">
			<img src="assets/corazon.png" class="co2" id="0">
			<br><br><br><br><br>
		</div>
		
		<!-- número de tentativas -->
		<h1 class="t">TENTATIVAS</h1>
		<div class="t2" id="t2">
			0
		</div>
		
		<!-- div de "ganhou" ou "perdeu" -->
		<div class="div2" id="div2">
			
		</div>
		
		<!-- div com as 12 cartas -->
		<br><br><br><br><br>
		<div class="div1">
			<br>
			<img src="assets/fundo.png" id="a" class="a">
			<img src="assets/fundo.png" id="b" class="b">
			<img src="assets/fundo.png" id="c" class="c">
			<img src="assets/fundo.png" id="d" class="d">
		</div>
		<div class="div1">
			<img src="assets/fundo.png" id="e" class="e">
			<img src="assets/fundo.png" id="f" class="f">
			<img src="assets/fundo.png" id="a2" class="a">
			<img src="assets/fundo.png" id="b2" class="b">
		</div>
		<div class="div1">
			<img src="assets/fundo.png" id="c2" class="c">
			<img src="assets/fundo.png" id="d2" class="d">
			<img src="assets/fundo.png" id="e2" class="e">
			<img src="assets/fundo.png" id="f2" class="f">
		</div>
		
	</body>
</html>

<!-- JAVASCRIPT -->
<script>
	//variáveis "globais"
	var nome1, nome2, cont=0, tentativas=0, vida=10, pares=0, id2;
	cont = parseInt(cont);
	tentativas = parseInt(tentativas);
	vida = parseInt(vida);
	pares = parseInt(pares);
	
	//evento de clique (captura os cliques nas cartas)
	document.addEventListener ('click', function (event){
		event.preventDefault();
		//pega a classe e o id 
		var classe = event.target.className;
		var id = event.target.id;
		//testa se o clique ocorreu em uma das cartas
		if ((classe=='a'||classe=='b'||classe=='c'||classe=='d'||classe=='e'||classe=='f')&&(id!=id2)){
			//contador para ver se é a primeira ou a segunda carta da vez
			cont++;
			if (cont==1){
				//primeira carta da vez
				nome1 = classe;
				id2 = id;
				document.getElementById(id).src= "assets/"+classe+".png";
			}else if(cont==2){
				//segunda carta da vez
				tentativas++;
				document.getElementById(id).src = "assets/"+classe+".png";
				cont = 0;
				nome2 = classe;
				//muda o número de tentativas
				document.getElementById("t2").innerHTML = tentativas;
				//abre a função de teste
				testar(id);
			}
		}
	});

	//função de teste (testa se as imagens viradas são iguais)
	function testar(id){
		if(nome1 == nome2){
			//se o par da vez estiver correto
			pares++;
			if (pares==6){
				//se os 6 pares estiverem virados
				document.getElementById("div2").innerText = "VOCÊ GANHOU!";
				document.getElementById("div2").style.color = "green";
				document.getElementById("div2").style.border = "thick dashed green";
				document.getElementById("div2").style.padding = "30px";
			}		
		}else{
			//se o par da vez estiver errado
			vida--;
			//vira as cartas novamente
			setTimeout(function(){
				document.getElementById(id).src="assets/fundo.png";
				document.getElementById(id2).src="assets/fundo.png";
			}, 750);
			//abre a função contadora de vidas
			vidas();
		}
	}

	//função contadora de vidas (testa o número de vidas e reduz os corações (se necessário))
	function vidas(){
		if(vida==9){
			document.getElementById("9").style.display="none";
		}
		if(vida==8){
			document.getElementById("8").style.display="none";
		}
		if(vida==7){
			document.getElementById("7").style.display="none";
		}
		if(vida==6){
			document.getElementById("6").style.display="none";
		}
		if(vida==5){
			document.getElementById("5").style.display="none";
		}
		if(vida==4){
			document.getElementById("4").style.display="none";
		}
		if(vida==3){
			document.getElementById("3").style.display="none";
		}
		if(vida==2){
			document.getElementById("2").style.display="none";
		}
		if(vida==1){
			document.getElementById("1").style.display="none";
		}
		if(vida==0){
			document.getElementById("0").style.display="none";
			//se as vidas acabarem
			document.getElementById("div2").innerText = "VOCÊ PERDEU!";
			document.getElementById("div2").style.color = "red";
			document.getElementById("div2").style.border = "thick dashed red";
			document.getElementById("div2").style.padding = "30px";
		}
	}	
</script>

<!-- CSS -->
<style>
	.corazon{
		float: left;
	}
	
	.co2{
		float: left;
		width: 90px;
		height: 90px;
		margin-left: 40px;
	}
	
	.div1{
		clear: left;
	}
	
	img{
		height: 162px;
		width: 226.8px;
	}
	
	.t{
		float: right;
		clear: both;
		margin-top: 10%;
		margin-right: 8%;
		font-family: "Arial";
		font-size: 35px;
		color: red;
	}
	
	.t2{
		clear: both;
		float: right;
		margin-right: 15%;
		font-family: "Arial";
		font-size: 45px;
		font-weight: bold;
	}
	
	.div2{
		margin-top: 8%;
		clear: both;
		float: right;
		margin-right: 6.2%;
		font-family: "Arial";
		font-size: 25px;
		font-weight: bold;
	}
</style>